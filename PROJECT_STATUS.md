# –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞ CryptoTracker

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –±–∞–∑–æ–≤—ã–µ –º–æ–¥—É–ª–∏ (core, models, schemas, services)

### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω `pyproject.toml` —Å–æ –≤—Å–µ–º–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `app/core/config.py` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `.env.example` —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω `.gitignore`

### 3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã SQLAlchemy –º–æ–¥–µ–ª–∏ –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü:
  - `User`, `Subscription`, `UserPreferences`
  - `SignalMEXCSpotFutures`, `SignalFundingRate`, `SignalMEXCDEX`
  - `Notification`, `CoinMarketCapData`, `AuditLog`
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω Alembic –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π
- ‚úÖ –°–æ–∑–¥–∞–Ω async engine –∏ session factory

### 4. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (access –∏ refresh —Ç–æ–∫–µ–Ω—ã)
- ‚úÖ –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π —Å bcrypt (12 rounds)
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ VIP –ø–æ–¥–ø–∏—Å–∫–∏

### 5. Auth Service
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (`POST /api/v1/auth/register`)
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç –≤—Ö–æ–¥–∞ (`POST /api/v1/auth/login`)
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ (`POST /api/v1/auth/refresh`)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

### 6. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω Docker Compose –¥–ª—è PostgreSQL –∏ Redis
- ‚úÖ –°–æ–∑–¥–∞–Ω Makefile —Å –ø–æ–ª–µ–∑–Ω—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω FastAPI —Å CORS, –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω Redis –∫–ª–∏–µ–Ω—Ç
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω lifespan –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏

### 7. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ –°–æ–∑–¥–∞–Ω README.md —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω QUICKSTART.md —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ –∑–∞–ø—É—Å–∫—É
- ‚úÖ –°–æ–∑–¥–∞–Ω MIGRATION_GUIDE.md —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ –º–∏–≥—Ä–∞—Ü–∏—è–º
- ‚úÖ –°–æ–∑–¥–∞–Ω WEBSOCKET_GUIDE.md —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π –ø–æ WebSocket
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∞–≤—Ç–æ–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API (Swagger/ReDoc)

### 8. –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –ø–µ—Ä–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è Alembic —Å–æ –≤—Å–µ–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏
- ‚úÖ –í—Å–µ –º–æ–¥–µ–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å –º–∏–≥—Ä–∞—Ü–∏–µ–π

### 9. WebSocket –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- ‚úÖ WebSocket –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏
- ‚úÖ –≠–Ω–¥–ø–æ–∏–Ω—Ç `/ws/signals` –¥–ª—è VIP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ –Ω–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ —á–µ—Ä–µ–∑ WebSocket
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ ping/pong –¥–ª—è keepalive

## ‚úÖ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. User Service ‚úÖ
- ‚úÖ –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–º (`GET /api/v1/users/me`)
- ‚úÖ –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (`GET/PUT /api/v1/users/me/preferences`)
- ‚úÖ –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∫–æ–π (`GET/PUT /api/v1/users/me/subscription`)
- ‚úÖ –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è (`POST /api/v1/users/me/change-password`)

### 2. Market Data Service ‚úÖ
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CoinMarketCap API
- ‚úÖ –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ—Ç–∏—Ä–æ–≤–æ–∫ (`GET /api/v1/market/cryptocurrencies`)
- ‚úÖ –§–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö (–≥–æ—Ç–æ–≤–æ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ)
- ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Å TTL

### 3. Signals Service ‚úÖ
- ‚úÖ –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤ MEXC Spot & Futures (`GET /api/v1/signals/mexc-spot-futures`)
- ‚úÖ –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è Funding Rate Spread (`GET /api/v1/signals/funding-rate`)
- ‚úÖ –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è MEXC & DEX Price Spread (`GET /api/v1/signals/mexc-dex`)
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤ (`DELETE /api/v1/signals/{signal_id}`)
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫ –ø–æ —Å–∏–≥–Ω–∞–ª–∞–º
- ‚úÖ WebSocket –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π (`/ws/signals`)
- ‚úÖ –°–µ—Ä–≤–∏—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–∞—Å—Å—ã–ª–∫–æ–π
- ‚è≥ –ü–∞—Ä—Å–∏–Ω–≥ Telegram —Å–æ–æ–±—â–µ–Ω–∏–π (—Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥)

### 4. Rate Limiting ‚úÖ
- ‚úÖ Middleware –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –†–∞–∑–Ω—ã–µ –ª–∏–º–∏—Ç—ã –¥–ª—è –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö, free –∏ VIP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –•—Ä–∞–Ω–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–æ–≤ –≤ Redis

### 5. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- ‚è≥ Notification Service (–±—Ä–∞—É–∑–µ—Ä–Ω—ã–µ, email, –∑–≤—É–∫–æ–≤—ã–µ)
- ‚è≥ –ü–∞—Ä—Å–∏–Ω–≥ Telegram —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤
- ‚è≥ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (structlog)
- ‚è≥ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Prometheus –º–µ—Ç—Ä–∏–∫–∏)
- ‚è≥ Unit –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- ‚è≥ CI/CD pipeline

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
cryptotracker/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ core/              # ‚úÖ –ì–æ—Ç–æ–≤–æ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ security.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ redis_client.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dependencies.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ exceptions.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ rate_limit.py   # ‚úÖ –ù–æ–≤–æ–µ
‚îÇ   ‚îú‚îÄ‚îÄ models/            # ‚úÖ –ì–æ—Ç–æ–≤–æ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ signal.py
‚îÇ   ‚îú‚îÄ‚îÄ schemas/           # ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–æ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.py         # ‚úÖ –ù–æ–≤–æ–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ market.py       # ‚úÖ –ù–æ–≤–æ–µ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ signal.py       # ‚úÖ –ù–æ–≤–æ–µ
‚îÇ   ‚îú‚îÄ‚îÄ services/          # ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–æ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ router.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user/           # ‚úÖ –ù–æ–≤–æ–µ
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ router.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ market/         # ‚úÖ –ù–æ–≤–æ–µ
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ router.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ service.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ signals/       # ‚úÖ –ù–æ–≤–æ–µ
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ router.py
‚îÇ   ‚îú‚îÄ‚îÄ tasks/             # ‚úÖ –ù–æ–≤–æ–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ market_data.py
‚îÇ   ‚îî‚îÄ‚îÄ main.py            # ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ
‚îú‚îÄ‚îÄ alembic/               # ‚úÖ –ì–æ—Ç–æ–≤–æ
‚îÇ   ‚îú‚îÄ‚îÄ env.py
‚îÇ   ‚îú‚îÄ‚îÄ script.py.mako
‚îÇ   ‚îî‚îÄ‚îÄ versions/
‚îú‚îÄ‚îÄ tests/                 # ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
‚îú‚îÄ‚îÄ docker-compose.yml     # ‚úÖ –ì–æ—Ç–æ–≤–æ
‚îú‚îÄ‚îÄ pyproject.toml         # ‚úÖ –ì–æ—Ç–æ–≤–æ
‚îú‚îÄ‚îÄ README.md             # ‚úÖ –ì–æ—Ç–æ–≤–æ
‚îú‚îÄ‚îÄ QUICKSTART.md         # ‚úÖ –ì–æ—Ç–æ–≤–æ
‚îú‚îÄ‚îÄ MIGRATION_GUIDE.md    # ‚úÖ –ù–æ–≤–æ–µ
‚îî‚îÄ‚îÄ PROJECT_STATUS.md     # ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ
```

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip install -e ".[dev]"`
2. –°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª –∏–∑ `.env.example`
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker —Å–µ—Ä–≤–∏—Å—ã: `docker-compose up -d`
4. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏: `alembic upgrade head`
5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä: `uvicorn app.main:app --reload`

API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: http://localhost:8000/docs

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –º–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã —Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó
- Auth Service –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω
- –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

